/* C Abstract Syntax Implementation generated by the BNF Converter. */

#include <stdio.h>
#include <stdlib.h>
#include "Absyn.h"
#include "conf/Translator_config.h"
#include "symbols.h"

/********************   ZapZloz    ********************/
ZapZloz make_ZapZloz(ListZapytanie p1)
{
  ZapZloz tmp = (ZapZloz) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating ZapZloz!\n");
    exit(1);
  }
  tmp->listzapytanie_ = p1;

  return tmp;
}


/********************   ZapProste    ********************/
Zapytanie make_ZapProste(ListLiniaZapytania p1, ListPrzerwa p2)
{
  Zapytanie tmp = (Zapytanie) malloc(sizeof(*tmp));
  LiniaZapytania linia;
  int id, i;
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating ZapProste!\n");
    exit(1);
  }
  tmp->kind = is_ZapProste;
  //tmp->u.zapproste_.listliniazapytania_ = p1;
  for(i=0;i<fieldsCount();i++){
	tmp->u.zapproste_.tabliniazapytania_[i] = NULL;
  }
  for(;p1;p1=p1->listliniazapytania_){
	linia = p1->liniazapytania_;
	id = linia->ident_;
	id = symbols_to_NazwaPola_id(id);
	if(id>=0){
		if(tmp->u.zapproste_.tabliniazapytania_[id] == NULL)
			tmp->u.zapproste_.tabliniazapytania_[id] = linia;
		else
			fprintf(stderr, "Warning: field '%s' was already used\n", symbols_get_name(linia->ident_));
	}
	else
	 fprintf(stderr, "Warning: '%s' is not a valid name of field\n", symbols_get_name(linia->ident_));
  }
  return tmp;
}


/********************   ZapDef    ********************/
Zapytanie make_ZapDef(Zapytanie p1, Nazwa p2, ListPrzerwa p3)
{
  Zapytanie tmp = (Zapytanie) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating ZapDef!\n");
    exit(1);
  }
  tmp->kind = is_ZapDef;
  tmp->u.zapdef_.zapytanie_ = p1;
  tmp->u.zapdef_.nazwa_ = p2;
 // tmp->u.zapdef_.listprzerwa_ = p3;

  return tmp;
}


/********************   ZapWyw    ********************/
Zapytanie make_ZapWyw(Zapytanie p1, Nazwa p2, ListPrzerwa p3)
{
  Zapytanie tmp = (Zapytanie) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating ZapWyw!\n");
    exit(1);
  }
  tmp->kind = is_ZapWyw;
  tmp->u.zapwyw_.zapytanie_ = p1;
  tmp->u.zapwyw_.nazwa_ = p2;
  //tmp->u.zapwyw_.listprzerwa_ = p3;

  return tmp;
}


/********************   ZapPuste    ********************/
Zapytanie make_ZapPuste(ListPrzerwa p1)
{
  Zapytanie tmp = (Zapytanie) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating ZapPuste!\n");
    exit(1);
  }
  tmp->kind = is_ZapPuste;


  return tmp;
}


/********************   LiniaZap    ********************/
LiniaZapytania make_LiniaZap(Ident p1, Wyraz p2)
{
  LiniaZapytania tmp = (LiniaZapytania) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating LiniaZap!\n");
    exit(1);
  }
  tmp->ident_ = p1;
  tmp->wyraz_ = p2;

  return tmp;
}


/********************   WyrazAnd    ********************/
Wyraz make_WyrazAnd(Wyraz p1, Wyraz p2)
{
  Wyraz tmp = (Wyraz) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating WyrazAnd!\n");
    exit(1);
  }
  tmp->kind = is_WyrazAnd;
  tmp->u.wyrazand_.wyraz_1 = p1;
  tmp->u.wyrazand_.wyraz_2 = p2;

  return tmp;
}


/********************   WyrazOr    ********************/
Wyraz make_WyrazOr(Wyraz p1, Wyraz p2)
{
  Wyraz tmp = (Wyraz) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating WyrazOr!\n");
    exit(1);
  }
  tmp->kind = is_WyrazOr;
  tmp->u.wyrazor_.wyraz_1 = p1;
  tmp->u.wyrazor_.wyraz_2 = p2;

  return tmp;
}


/********************   WyrazNeg    ********************/
Wyraz make_WyrazNeg(Wyraz p1)
{
  Wyraz tmp = (Wyraz) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating WyrazNeg!\n");
    exit(1);
  }
  tmp->kind = is_WyrazNeg;
  tmp->u.wyrazneg_.wyraz_ = p1;

  return tmp;
}


/********************   WyrazFrag    ********************/
Wyraz make_WyrazFrag(Tekst p1, Tekst p2)
{
  Wyraz tmp = (Wyraz) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating WyrazFrag!\n");
    exit(1);
  }
  tmp->kind = is_WyrazFrag;
  tmp->u.wyrazfrag_.tekst_1 = p1;
  tmp->u.wyrazfrag_.tekst_2 = p2;

  return tmp;
}


/********************   WyrazFragL    ********************/
Wyraz make_WyrazFragL(Tekst p1)
{
  Wyraz tmp = (Wyraz) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating WyrazFragL!\n");
    exit(1);
  }
  tmp->kind = is_WyrazFragL;
  tmp->u.wyrazfragl_.tekst_ = p1;

  return tmp;
}


/********************   WyrazFragP    ********************/
Wyraz make_WyrazFragP(Tekst p1)
{
  Wyraz tmp = (Wyraz) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating WyrazFragP!\n");
    exit(1);
  }
  tmp->kind = is_WyrazFragP;
  tmp->u.wyrazfragp_.tekst_ = p1;

  return tmp;
}


/********************   WyrazTekst    ********************/
Wyraz make_WyrazTekst(Tekst p1)
{
  Wyraz tmp = (Wyraz) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating WyrazTekst!\n");
    exit(1);
  }
  tmp->kind = is_WyrazTekst;
  tmp->u.wyraztekst_.tekst_ = p1;

  return tmp;
}


/********************   ListZapytanie    ********************/
ListZapytanie make_ListZapytanie(Zapytanie p1, ListZapytanie p2)
{
  ListZapytanie tmp = (ListZapytanie) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating ListZapytanie!\n");
    exit(1);
  }
  tmp->zapytanie_ = p1;
  tmp->listzapytanie_ = p2;
  return tmp;
}


/********************   ListLiniaZapytania    ********************/
ListLiniaZapytania make_ListLiniaZapytania(LiniaZapytania p1, ListLiniaZapytania p2)
{
  ListLiniaZapytania tmp = (ListLiniaZapytania) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating ListLiniaZapytania!\n");
    exit(1);
  }
  tmp->liniazapytania_ = p1;
  tmp->listliniazapytania_ = p2;
  return tmp;
}




/********************   ListPrzerwa    ********************/
ListPrzerwa make_ListPrzerwa(int p1, ListPrzerwa p2)
{
  ListPrzerwa tmp = (ListPrzerwa) malloc(sizeof(*tmp));
  if (!tmp)
  {
    fprintf(stderr, "Error: out of memory when allocating ListPrzerwa!\n");
    exit(1);
  }
  tmp->przerwa_ = p1;
  tmp->listprzerwa_ = p2;
  return tmp;
}


/********************   Tekst    ********************/
Tekst make_Tekst(int p1)
{
  return p1;
}



/********************   Nazwa    ********************/
Nazwa make_Nazwa(String p1)
{
  return p1;
}



